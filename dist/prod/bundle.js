!function(){"use strict";const n=n=>"connection"in navigator?n.indexOf(navigator.connection.effectiveType)>=0?"slow":"fast":"unknown",e=n=>null!==sessionStorage.getItem(n),o=n=>{try{return e(n)?JSON.parse(sessionStorage.getItem(n)):{}}catch(n){return 0}};const t=(n,e)=>{((n,e)=>{try{sessionStorage.setItem(e,JSON.stringify(n))}catch(n){}})(n,e),function(n){const e=o(n),t=document.getElementsByTagName("html")[0];Object.entries(e).forEach((n=>{const[e,o]=n,r=`${e}-${o}`;t.classList.add(r)}))}(e)},r=e=>{const{lowRAM:o,lowCPU:t,slowConnectionTypes:r}=e;return{memoryLevel:(n=>{if(!("deviceMemory"in navigator))return"unknown";const e=navigator.deviceMemory;return e===n?"mid":e>n?"high":"low"})(o),cpuLevel:(n=>{if(!("hardwareConcurrency"in navigator))return"unknown";const e=navigator.hardwareConcurrency;return e===n?"mid":e>n?"high":"low"})(t),connectionSpeed:n(r),saveData:"connection"in navigator?navigator.connection.saveData:0,reducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,doNotTrack:(()=>{const n="doNotTrack"in navigator,e="1"===navigator.doNotTrack;return n&&e})()}},s={settings:{lowRAM:4,lowCPU:4,slowConnectionTypes:["slow-2g","2g","3g"]},sessionStorageKey:"progressiveUserSettings"},i=i=>{const c={...s,...i},{sessionStorageKey:a}=c,g=o(a),d=e(a)?(e=>{const{slowConnectionTypes:o}=e;return{connectionSpeed:n(o)}})(c.settings):r(c.settings),u=Object.assign(g,d);t(u,a)};window.progUX=i}();
